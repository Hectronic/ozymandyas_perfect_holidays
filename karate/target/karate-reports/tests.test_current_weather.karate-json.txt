{"failedCount":0,"prefixedPath":"classpath:tests\/test_current_weather.feature","packageQualifiedName":"tests.test_current_weather","loopIndex":-1,"relativePath":"tests\/test_current_weather.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":47405125,"millis":47.405125,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":2383788,"millis":2.383788,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":49471680,"millis":49.47168,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":1391920,"millis":1.39192,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"param lat    = '40.4168'"}},{"result":{"nanos":767592,"millis":0.767592,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"param lon    = '-3.7038'"}},{"result":{"nanos":5061470,"millis":5.06147,"status":"passed"},"step":{"line":12,"prefix":"And","index":2,"text":"param appid  = apiKey"}},{"result":{"nanos":699729,"millis":0.699729,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"param units  = 'metric'"}},{"result":{"nanos":651518927,"millis":651.518927,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method GET"},"stepLog":"23:53:27.985 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?appid=4b66cf4f354cd07b407c07800dc8c2f9&lon=-3.7038&units=metric&lat=40.4168\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:28.399 response time in milliseconds: 407\n1 < 200\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 521\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lat=40.42&lon=-3.7&units=metric\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"coord\":{\"lon\":-3.7038,\"lat\":40.4168},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"base\":\"stations\",\"main\":{\"temp\":12.11,\"feels_like\":10.86,\"temp_min\":10.21,\"temp_max\":12.68,\"pressure\":1014,\"humidity\":57,\"sea_level\":1014,\"grnd_level\":939},\"visibility\":10000,\"wind\":{\"speed\":2.68,\"deg\":346,\"gust\":6.26},\"clouds\":{\"all\":40},\"dt\":1746568326,\"sys\":{\"type\":2,\"id\":2084029,\"country\":\"ES\",\"sunrise\":1746508074,\"sunset\":1746558894},\"timezone\":7200,\"id\":3117735,\"name\":\"Madrid\",\"cod\":200}\n\n"},{"result":{"nanos":3626817,"millis":3.626817,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":30045158,"millis":30.045158,"status":"passed"},"step":{"comments":["# allow extra fields but verify key properties"],"line":18,"prefix":"And","index":6,"text":"match response contains { coord: { lat: '#number', lon: '#number' }, name: '#string', cod: '#number' }"}},{"result":{"nanos":2858525,"millis":2.858525,"status":"passed"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.main contains { temp: '#number', pressure: '#number', humidity: '#number' }"}},{"result":{"nanos":2024100,"millis":2.0241,"status":"passed"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.weather[0] contains { id: '#number', main: '#string', description: '#string' }"}}],"line":24,"description":"","durationMillis":797.254831,"failed":false,"executorName":"main","name":"Valid current weather for coordinates 40.4168,-3.7038","startTime":1746568407663,"refId":"[1.1:24]","endTime":1746568408472,"exampleData":{"lat":"40.4168","lon":"-3.7038"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":638827,"millis":0.638827,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":504020,"millis":0.50402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1536720,"millis":1.53672,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":529493,"millis":0.529493,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"param lat    = '51.5074'"}},{"result":{"nanos":405959,"millis":0.405959,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"param lon    = '-0.1278'"}},{"result":{"nanos":256233,"millis":0.256233,"status":"passed"},"step":{"line":12,"prefix":"And","index":2,"text":"param appid  = apiKey"}},{"result":{"nanos":417225,"millis":0.417225,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"param units  = 'metric'"}},{"result":{"nanos":191047855,"millis":191.047855,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method GET"},"stepLog":"23:53:28.495 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?appid=4b66cf4f354cd07b407c07800dc8c2f9&lon=-0.1278&units=metric&lat=51.5074\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:28.681 response time in milliseconds: 185\n1 < 200\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 501\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lat=51.51&lon=-0.13&units=metric\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"coord\":{\"lon\":-0.1278,\"lat\":51.5074},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":10.21,\"feels_like\":9.19,\"temp_min\":8.78,\"temp_max\":11,\"pressure\":1025,\"humidity\":73,\"sea_level\":1025,\"grnd_level\":1021},\"visibility\":10000,\"wind\":{\"speed\":4.63,\"deg\":30},\"clouds\":{\"all\":75},\"dt\":1746568144,\"sys\":{\"type\":2,\"id\":2075535,\"country\":\"GB\",\"sunrise\":1746505384,\"sunset\":1746559868},\"timezone\":3600,\"id\":2643743,\"name\":\"London\",\"cod\":200}\n\n"},{"result":{"nanos":65291,"millis":0.065291,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":2467533,"millis":2.467533,"status":"passed"},"step":{"comments":["# allow extra fields but verify key properties"],"line":18,"prefix":"And","index":6,"text":"match response contains { coord: { lat: '#number', lon: '#number' }, name: '#string', cod: '#number' }"}},{"result":{"nanos":2206918,"millis":2.206918,"status":"passed"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.main contains { temp: '#number', pressure: '#number', humidity: '#number' }"}},{"result":{"nanos":2079932,"millis":2.079932,"status":"passed"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.weather[0] contains { id: '#number', main: '#string', description: '#string' }"}}],"line":25,"description":"","durationMillis":202.156006,"failed":false,"executorName":"main","name":"Valid current weather for coordinates 51.5074,-0.1278","startTime":1746568408489,"refId":"[1.2:25]","endTime":1746568408693,"exampleData":{"lat":"51.5074","lon":"-0.1278"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":683387,"millis":0.683387,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":532215,"millis":0.532215,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1631688,"millis":1.631688,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":1816907,"millis":1.816907,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"param lat    = '40.7128'"}},{"result":{"nanos":1232710,"millis":1.23271,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"param lon    = '-74.0060'"}},{"result":{"nanos":553190,"millis":0.55319,"status":"passed"},"step":{"line":12,"prefix":"And","index":2,"text":"param appid  = apiKey"}},{"result":{"nanos":415800,"millis":0.4158,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"param units  = 'metric'"}},{"result":{"nanos":165694697,"millis":165.694697,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method GET"},"stepLog":"23:53:28.725 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?appid=4b66cf4f354cd07b407c07800dc8c2f9&lon=-74.0060&units=metric&lat=40.7128\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:28.885 response time in milliseconds: 158\n1 < 200\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 512\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lat=40.71&lon=-74.01&units=metric\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"coord\":{\"lon\":-74.006,\"lat\":40.7128},\"weather\":[{\"id\":701,\"main\":\"Mist\",\"description\":\"mist\",\"icon\":\"50d\"}],\"base\":\"stations\",\"main\":{\"temp\":15.65,\"feels_like\":15.73,\"temp_min\":14.59,\"temp_max\":17.33,\"pressure\":1013,\"humidity\":94,\"sea_level\":1013,\"grnd_level\":1011},\"visibility\":4828,\"wind\":{\"speed\":8.23,\"deg\":130,\"gust\":10.8},\"clouds\":{\"all\":100},\"dt\":1746568209,\"sys\":{\"type\":2,\"id\":2037026,\"country\":\"US\",\"sunrise\":1746524893,\"sunset\":1746575819},\"timezone\":-14400,\"id\":5128581,\"name\":\"New York\",\"cod\":200}\n\n"},{"result":{"nanos":33495,"millis":0.033495,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1571801,"millis":1.571801,"status":"passed"},"step":{"comments":["# allow extra fields but verify key properties"],"line":18,"prefix":"And","index":6,"text":"match response contains { coord: { lat: '#number', lon: '#number' }, name: '#string', cod: '#number' }"}},{"result":{"nanos":1646010,"millis":1.64601,"status":"passed"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.main contains { temp: '#number', pressure: '#number', humidity: '#number' }"}},{"result":{"nanos":1921823,"millis":1.921823,"status":"passed"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.weather[0] contains { id: '#number', main: '#string', description: '#string' }"}}],"line":26,"description":"","durationMillis":177.733723,"failed":false,"executorName":"main","name":"Valid current weather for coordinates 40.7128,-74.0060","startTime":1746568408714,"refId":"[1.3:26]","endTime":1746568408894,"exampleData":{"lat":"40.7128","lon":"-74.0060"},"exampleIndex":2},{"sectionIndex":1,"stepResults":[{"result":{"nanos":698583,"millis":0.698583,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":580047,"millis":0.580047,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1763520,"millis":1.76352,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":2018363,"millis":2.018363,"status":"passed"},"step":{"line":29,"prefix":"Given","index":0,"text":"param lat   = '40.4168'"}},{"result":{"nanos":1178364,"millis":1.178364,"status":"passed"},"step":{"line":30,"prefix":"And","index":1,"text":"param lon   = '-3.7038'"}},{"result":{"nanos":179404509,"millis":179.404509,"status":"passed"},"step":{"line":31,"prefix":"When","index":2,"text":"method GET"},"stepLog":"23:53:28.922 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?lon=-3.7038&lat=40.4168\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:29.096 response time in milliseconds: 171\n1 < 401\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:28 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 108\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lat=40.42&lon=-3.7\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"cod\":401, \"message\": \"Invalid API key. Please see https:\/\/openweathermap.org\/faq#error401 for more info.\"}\n\n"},{"result":{"nanos":34912,"millis":0.034912,"status":"passed"},"step":{"line":32,"prefix":"Then","index":3,"text":"status 401"}}],"executorName":"main","line":28,"name":"Missing API key returns 401","description":"","durationMillis":185.678298,"startTime":1746568408912,"failed":false,"refId":"[2:28]","endTime":1746568409099,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":598256,"millis":0.598256,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":487004,"millis":0.487004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1658392,"millis":1.658392,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":633930,"millis":0.63393,"status":"passed"},"step":{"line":35,"prefix":"Given","index":0,"text":"param lon   = '-3.7038'"}},{"result":{"nanos":689843,"millis":0.689843,"status":"passed"},"step":{"line":36,"prefix":"And","index":1,"text":"param appid = apiKey"}},{"result":{"nanos":197557333,"millis":197.557333,"status":"passed"},"step":{"line":37,"prefix":"When","index":2,"text":"method GET"},"stepLog":"23:53:29.123 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?appid=4b66cf4f354cd07b407c07800dc8c2f9&lon=-3.7038\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:29.315 response time in milliseconds: 190\n1 < 400\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:29 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 44\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lon=-3.7\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"cod\":\"400\",\"message\":\"Nothing to geocode\"}\n\n"},{"result":{"nanos":35454,"millis":0.035454,"status":"passed"},"step":{"line":38,"prefix":"Then","index":3,"text":"status 400"}}],"executorName":"main","line":34,"name":"Missing latitude returns 400","description":"","durationMillis":201.660212,"startTime":1746568409115,"failed":false,"refId":"[3:34]","endTime":1746568409318,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":619189,"millis":0.619189,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/api.openweathermap.org\/data\/2.5\/weather'"}},{"result":{"nanos":499824,"millis":0.499824,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1377282,"millis":1.377282,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiKey = karate.env == 'ci' ? karate.properties['OPENWEATHER_API_KEY'] : '4b66cf4f354cd07b407c07800dc8c2f9'"}},{"result":{"nanos":642648,"millis":0.642648,"status":"passed"},"step":{"line":41,"prefix":"Given","index":0,"text":"param lat   = '40.4168'"}},{"result":{"nanos":458316,"millis":0.458316,"status":"passed"},"step":{"line":42,"prefix":"And","index":1,"text":"param appid = apiKey"}},{"result":{"nanos":160767876,"millis":160.767876,"status":"passed"},"step":{"line":43,"prefix":"When","index":2,"text":"method GET"},"stepLog":"23:53:29.347 request:\n1 > GET https:\/\/api.openweathermap.org\/data\/2.5\/weather?appid=4b66cf4f354cd07b407c07800dc8c2f9&lat=40.4168\n1 > Accept: application\/json\n1 > Host: api.openweathermap.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:53:29.503 response time in milliseconds: 155\n1 < 400\n1 < Server: openresty\n1 < Date: Tue, 06 May 2025 21:53:29 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 44\n1 < Connection: keep-alive\n1 < X-Cache-Key: \/data\/2.5\/weather?lat=40.42\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST\n{\"cod\":\"400\",\"message\":\"Nothing to geocode\"}\n\n"},{"result":{"nanos":25288,"millis":0.025288,"status":"passed"},"step":{"line":44,"prefix":"Then","index":3,"text":"status 400"}}],"executorName":"main","line":40,"name":"Missing longitude returns 400","description":"","durationMillis":164.390423,"startTime":1746568409338,"failed":false,"refId":"[4:40]","endTime":1746568409505,"exampleIndex":-1}],"callDepth":0,"name":"Current Weather API tests","description":"","resultDate":"2025-05-06 11:53:29 p.Â m.","durationMillis":1728.873493,"passedCount":6}